{"version":3,"file":"ng-rating-bar.js.map","sources":["ng://ng-rating-bar/lib/ng-rating-bar.component.ts","ng://ng-rating-bar/lib/ng-rating-bar.module.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nexport interface Styles {\n  fontSize?: string;\n  backgroundColor?: string;\n  margin?: string;\n}\n\n@Component({\n  selector: 'ng-rating-bar',\n  template: `<ng-container *ngFor=\"let item of numbers; let i = index\">\r\n  <span\r\n    class=\"star\"\r\n    (mouseenter)=\"enter(i)\"\r\n    (mouseleave)=\"leave(i)\"\r\n    (click)=\"setSelected(i)\"\r\n    [ngStyle]=\"{'color': (i <= hoverIndex) ? colorActive : colorDefault}\"\r\n    [style.fontSize]=\"styles.fontSize\"\r\n    [style.backgroundColor]=\"styles.backgroundColor\"\r\n    [style.marginRight]=\"styles.margin\"\r\n  >\r\n  â\r\n  <span\r\n    class=\"star half\"\r\n    *ngIf=\"!isHovered && i == halfIndex\"\r\n    [style.width.%]=\"halfValue\"\r\n    [style.color]=\"colorActive\"\r\n  >â</span>\r\n</span>\r\n</ng-container>\r\n`,\n  styles: [`.star{position:relative}.star:not(.half){min-height:20px;min-width:20px;cursor:pointer;display:inline-block}.star.active{color:inherit}.star.half{height:inherit;font-size:inherit;cursor:pointer;position:absolute;left:0;top:0;display:inline-block;overflow:hidden}`]\n})\nexport class NgRatingBarComponent implements OnInit, OnChanges {\n\n  @Input() ratingCount: number;\n  @Input() colorActive: string;\n  @Input() colorDefault: string;\n  @Input() disabled: boolean;\n  @Input() resetAble: boolean;\n\n  @Input() control: FormControl;\n\n  @Input() styles: Styles;\n\n  @Input() value: number;\n  @Output() valueChange: EventEmitter<number> = new EventEmitter<number>();\n  @Output() hoverChange: EventEmitter<number> = new EventEmitter<number>();\n\n  numbers = [];\n  hoverIndex = -1;\n  selectedValue = 0;\n  halfValue = 0;\n  halfIndex = -1;\n  isHovered = false;\n  constructor() {}\n\n  ngOnInit() {\n    this.ratingCount = this.ratingCount || 5;\n    this.colorActive = this.colorActive || '#edb867';\n    this.colorDefault = this.colorDefault || '#d2d2d2';\n\n\n    if (!this.styles) {\n      this.styles = {\n        fontSize: '28px',\n        backgroundColor: '',\n        margin: '5px'\n      };\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.value || this.control) {\n      this.initNumbers();\n      this.calculateHalfValue();\n    }\n  }\n\n  initNumbers() {\n    this.numbers = Array(this.ratingCount)\n      .fill(0)\n      .map((x, i) => i);\n    if (this.control) {\n      this.selectedValue = this.control.value;\n    } else {\n      this.selectedValue = this.value;\n    }\n\n    this.hoverIndex = this.selectedValue - 1;\n  }\n\n  enter(i: number) {\n    if (this.disabled) {\n      return;\n    }\n    this.isHovered = true;\n    this.hoverIndex = i;\n    this.hoverChange.emit(1 + i);\n\n\n  }\n  leave(i: number) {\n    if (this.disabled) {\n      return;\n    }\n    this.isHovered = false;\n    this.hoverIndex = this.selectedValue - 1;\n  }\n\n  setSelected(i: number) {\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.resetAble && this.selectedValue === i + 1) {\n      this.selectedValue = 0;\n    } else {\n      this.selectedValue = i + 1;\n    }\n\n    if (this.control) {\n      this.control.setValue(this.selectedValue || null);\n      this.control.markAsTouched();\n    } else {\n      this.valueChange.emit(this.selectedValue);\n    }\n    this.isHovered = false;\n    this.calculateHalfValue();\n  }\n\n  calculateHalfValue() {\n    this.halfValue = Math.round(100 * (this.selectedValue - Math.floor(this.selectedValue)) );\n    this.halfIndex = Math.ceil(this.selectedValue) - 1;\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgRatingBarComponent } from './ng-rating-bar.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [NgRatingBarComponent],\n  exports: [NgRatingBarComponent]\n})\nexport class NgRatingBarModule { }\n"],"names":[],"mappings":"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"}
