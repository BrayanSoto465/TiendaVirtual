{"version":3,"file":"ng-rating-bar.umd.js.map","sources":["ng://ng-rating-bar/lib/ng-rating-bar.component.ts","ng://ng-rating-bar/lib/ng-rating-bar.module.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nexport interface Styles {\n  fontSize?: string;\n  backgroundColor?: string;\n  margin?: string;\n}\n\n@Component({\n  selector: 'ng-rating-bar',\n  template: `<ng-container *ngFor=\"let item of numbers; let i = index\">\r\n  <span\r\n    class=\"star\"\r\n    (mouseenter)=\"enter(i)\"\r\n    (mouseleave)=\"leave(i)\"\r\n    (click)=\"setSelected(i)\"\r\n    [ngStyle]=\"{'color': (i <= hoverIndex) ? colorActive : colorDefault}\"\r\n    [style.fontSize]=\"styles.fontSize\"\r\n    [style.backgroundColor]=\"styles.backgroundColor\"\r\n    [style.marginRight]=\"styles.margin\"\r\n  >\r\n  â\r\n  <span\r\n    class=\"star half\"\r\n    *ngIf=\"!isHovered && i == halfIndex\"\r\n    [style.width.%]=\"halfValue\"\r\n    [style.color]=\"colorActive\"\r\n  >â</span>\r\n</span>\r\n</ng-container>\r\n`,\n  styles: [`.star{position:relative}.star:not(.half){min-height:20px;min-width:20px;cursor:pointer;display:inline-block}.star.active{color:inherit}.star.half{height:inherit;font-size:inherit;cursor:pointer;position:absolute;left:0;top:0;display:inline-block;overflow:hidden}`]\n})\nexport class NgRatingBarComponent implements OnInit, OnChanges {\n\n  @Input() ratingCount: number;\n  @Input() colorActive: string;\n  @Input() colorDefault: string;\n  @Input() disabled: boolean;\n  @Input() resetAble: boolean;\n\n  @Input() control: FormControl;\n\n  @Input() styles: Styles;\n\n  @Input() value: number;\n  @Output() valueChange: EventEmitter<number> = new EventEmitter<number>();\n  @Output() hoverChange: EventEmitter<number> = new EventEmitter<number>();\n\n  numbers = [];\n  hoverIndex = -1;\n  selectedValue = 0;\n  halfValue = 0;\n  halfIndex = -1;\n  isHovered = false;\n  constructor() {}\n\n  ngOnInit() {\n    this.ratingCount = this.ratingCount || 5;\n    this.colorActive = this.colorActive || '#edb867';\n    this.colorDefault = this.colorDefault || '#d2d2d2';\n\n\n    if (!this.styles) {\n      this.styles = {\n        fontSize: '28px',\n        backgroundColor: '',\n        margin: '5px'\n      };\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.value || this.control) {\n      this.initNumbers();\n      this.calculateHalfValue();\n    }\n  }\n\n  initNumbers() {\n    this.numbers = Array(this.ratingCount)\n      .fill(0)\n      .map((x, i) => i);\n    if (this.control) {\n      this.selectedValue = this.control.value;\n    } else {\n      this.selectedValue = this.value;\n    }\n\n    this.hoverIndex = this.selectedValue - 1;\n  }\n\n  enter(i: number) {\n    if (this.disabled) {\n      return;\n    }\n    this.isHovered = true;\n    this.hoverIndex = i;\n    this.hoverChange.emit(1 + i);\n\n\n  }\n  leave(i: number) {\n    if (this.disabled) {\n      return;\n    }\n    this.isHovered = false;\n    this.hoverIndex = this.selectedValue - 1;\n  }\n\n  setSelected(i: number) {\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.resetAble && this.selectedValue === i + 1) {\n      this.selectedValue = 0;\n    } else {\n      this.selectedValue = i + 1;\n    }\n\n    if (this.control) {\n      this.control.setValue(this.selectedValue || null);\n      this.control.markAsTouched();\n    } else {\n      this.valueChange.emit(this.selectedValue);\n    }\n    this.isHovered = false;\n    this.calculateHalfValue();\n  }\n\n  calculateHalfValue() {\n    this.halfValue = Math.round(100 * (this.selectedValue - Math.floor(this.selectedValue)) );\n    this.halfIndex = Math.ceil(this.selectedValue) - 1;\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgRatingBarComponent } from './ng-rating-bar.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [NgRatingBarComponent],\n  exports: [NgRatingBarComponent]\n})\nexport class NgRatingBarModule { }\n"],"names":["EventEmitter","Component","Input","Output","NgModule","CommonModule"],"mappings":";;;;;;;;;;AAAA;QAgEE;+BAT8C,IAAIA,iBAAY,EAAU;+BAC1B,IAAIA,iBAAY,EAAU;2BAE9D,EAAE;8BACC,CAAC,CAAC;iCACC,CAAC;6BACL,CAAC;6BACD,CAAC,CAAC;6BACF,KAAK;SACD;;;;QAEhB,uCAAQ;;;YAAR;gBACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;gBACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC;gBACjD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,IAAI,SAAS,CAAC;gBAGnD,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBAChB,IAAI,CAAC,MAAM,GAAG;wBACZ,QAAQ,EAAE,MAAM;wBAChB,eAAe,EAAE,EAAE;wBACnB,MAAM,EAAE,KAAK;qBACd,CAAC;iBACH;aACF;;;;;QAED,0CAAW;;;;YAAX,UAAY,OAAsB;gBAChC,IAAI,OAAO,aAAU,IAAI,CAAC,OAAO,EAAE;oBACjC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;aACF;;;;QAED,0CAAW;;;YAAX;gBACE,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;qBACnC,IAAI,CAAC,CAAC,CAAC;qBACP,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,GAAA,CAAC,CAAC;gBACpB,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;iBACzC;qBAAM;oBACL,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC;iBACjC;gBAED,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;aAC1C;;;;;QAED,oCAAK;;;;YAAL,UAAM,CAAS;gBACb,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,OAAO;iBACR;gBACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;gBACpB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;aAG9B;;;;;QACD,oCAAK;;;;YAAL,UAAM,CAAS;gBACb,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,OAAO;iBACR;gBACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;aAC1C;;;;;QAED,0CAAW;;;;YAAX,UAAY,CAAS;gBACnB,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACjB,OAAO;iBACR;gBAED,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,KAAK,CAAC,GAAG,CAAC,EAAE;oBAClD,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;iBACxB;qBAAM;oBACL,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,CAAC,CAAC;iBAC5B;gBAED,IAAI,IAAI,CAAC,OAAO,EAAE;oBAChB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC;oBAClD,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;iBAC9B;qBAAM;oBACL,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;iBAC3C;gBACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC3B;;;;QAED,iDAAkB;;;YAAlB;gBACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAE,CAAC;gBAC1F,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;aACpD;;oBA9HFC,cAAS,SAAC;wBACT,QAAQ,EAAE,eAAe;wBACzB,QAAQ,EAAE,omBAoBX;wBACC,MAAM,EAAE,CAAC,wQAAwQ,CAAC;qBACnR;;;;;kCAGEC,UAAK;kCACLA,UAAK;mCACLA,UAAK;+BACLA,UAAK;gCACLA,UAAK;8BAELA,UAAK;6BAELA,UAAK;4BAELA,UAAK;kCACLC,WAAM;kCACNA,WAAM;;mCAxDT;;;;;;;ACAA;;;;oBAICC,aAAQ,SAAC;wBACR,OAAO,EAAE;4BACPC,mBAAY;yBACb;wBACD,YAAY,EAAE,CAAC,oBAAoB,CAAC;wBACpC,OAAO,EAAE,CAAC,oBAAoB,CAAC;qBAChC;;gCAVD;;;;;;;;;;;;;;;;;;;;;;;;"}
